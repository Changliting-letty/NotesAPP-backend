<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.firstapp.firstappbackend.dao.NotesMapper">
    <resultMap id="BaseResultMap" type="com.firstapp.firstappbackend.pojo.Notes">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <id column="id" jdbcType="INTEGER" property="id"/>
        <result column="user_id" jdbcType="INTEGER" property="userId"/>
        <result column="title" jdbcType="VARCHAR" property="title"/>
        <result column="sub_title" jdbcType="VARCHAR" property="subTitle"/>
        <result column="note_text" jdbcType="VARCHAR" property="noteText"/>
        <result column="create_time" jdbcType="TIMESTAMP" property="createTime"/>
        <result column="date_time" jdbcType="TIMESTAMP" property="dateTime"/>
        <result column="img_path" jdbcType="VARCHAR" property="imgPath"/>
        <result column="web_link" jdbcType="VARCHAR" property="webLink"/>
        <result column="color" jdbcType="VARCHAR" property="color"/>
    </resultMap>
    <parameterMap id="userId_And_Title" type="java.util.Map">
        <parameter property="userId" javaType="java.lang.Integer" jdbcType="INTEGER"/>
        <parameter property="title" javaType="java.lang.String" jdbcType="VARCHAR"/>
    </parameterMap>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        delete from notes
        where id = #{id,jdbcType=INTEGER}
    </delete>
    <delete id="deleteByTitleAndUserId" parameterMap="userId_And_Title">
        delete
        from notes
        WHERE title = #{title,jdbcType=VARCHAR}
          and user_id = #{userId,jdbcType=INTEGER}
    </delete>
    <insert id="insert" parameterType="com.firstapp.firstappbackend.pojo.Notes" useGeneratedKeys="true" keyColumn="id"
            keyProperty="id">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        insert into notes (id, user_id, title,
        sub_title, note_text, create_time,
        date_time, img_path, web_link,
        color)
        values (#{id,jdbcType=INTEGER}, #{userId,jdbcType=INTEGER}, #{title,jdbcType=VARCHAR},
        #{subTitle,jdbcType=VARCHAR}, #{noteText,jdbcType=VARCHAR}, now(),
        now(), #{imgPath,jdbcType=VARCHAR}, #{webLink,jdbcType=VARCHAR},
        #{color,jdbcType=VARCHAR})
    </insert>
    <update id="updateByPrimaryKey" parameterType="com.firstapp.firstappbackend.pojo.Notes">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update notes
        set user_id = #{userId,jdbcType=INTEGER},
        title = #{title,jdbcType=VARCHAR},
        sub_title = #{subTitle,jdbcType=VARCHAR},
        note_text = #{noteText,jdbcType=VARCHAR},
        date_time = now(),
        img_path = #{imgPath,jdbcType=VARCHAR},
        web_link = #{webLink,jdbcType=VARCHAR},
        color = #{color,jdbcType=VARCHAR}
        where id = #{id,jdbcType=INTEGER}
    </update>
    <update id="updateByUserIdAndTitle" parameterType="com.firstapp.firstappbackend.pojo.Notes">
        update notes
        set sub_title = #{subTitle,jdbcType=VARCHAR},
            note_text = #{noteText,jdbcType=VARCHAR},
            date_time = now(),
            img_path  = #{imgPath,jdbcType=VARCHAR},
            web_link  = #{webLink,jdbcType=VARCHAR},
            color     = #{color,jdbcType=VARCHAR}
        where user_id = #{userId,jdbcType=INTEGER}
          and title = #{title,jdbcType=VARCHAR}
    </update>
    <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select id, user_id, title, sub_title, note_text, create_time, date_time, img_path,
        web_link, color
        from notes
        where id = #{id,jdbcType=INTEGER}
    </select>
    <select id="selectAll" parameterType="java.lang.Integer" resultMap="BaseResultMap">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select id, user_id, title, sub_title, note_text, create_time, date_time, img_path,
        web_link, color
        from notes
        where user_id=#{userId}
    </select>


</mapper>